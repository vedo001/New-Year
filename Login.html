<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Login Buddy</title>
<script>
async function login() {
    const id = document.getElementById("user").value;
    const pw = document.getElementById("pass").value;

    const data = await fetch("employees.json").then(r => r.json());
    const user = data.find(x => x.id === id && x.password === pw);

    if(!user){
        alert("รหัสพนักงานหรือรหัสผ่านไม่ถูกต้อง!");
        return;
    }

    // เก็บ ID ของผู้ใช้ไว้
    localStorage.setItem("loginUser", user.id);

    // ไปหน้าแสดงข้อมูล Buddy
    window.location = "Profile_INFO.html";
}
</script>
</head>
<body>
<h2>เข้าสู่ระบบ Buddy</h2>
รหัสพนักงาน: <input id="user"><br>
รหัสผ่าน: <input id="pass" type="password"><br><br>
<button onclick="login()">Login</button>
</body>
</html>
