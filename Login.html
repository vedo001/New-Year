<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Buddy Login</title>

<style>
    body {
        text-align: center;
        font-family: 'Segoe UI', Arial;
        background: #000;
        color: white;
        margin-top: 90px;
    }
    input {
        padding: 10px;
        margin: 7px;
        width: 230px;
        border-radius: 8px;
        border: none;
        font-size: 16px;
    }
    button {
        padding: 10px 25px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        background: #2ecc71;
        font-size: 17px;
        margin-top: 10px;
        color: black;
        font-weight: bold;
    }
    button:hover {
        background: #27ae60;
        color: white;
    }
    .box {
        background: rgba(255,255,255,0.1);
        padding: 30px;
        width: 350px;
        margin: auto;
        border-radius: 15px;
    }
</style>

</head>
<body>

<div class="box">
    <h2>üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Buddy</h2>

    <input type="text" id="user" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô"><br>
    <input type="password" id="pass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"><br>
    <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>

    <p id="msg" style="color:#ff8080; font-weight:bold; margin-top:15px;"></p>
</div>


<script>
async function login() {
    let id = document.getElementById("user").value.trim();
    let pw = document.getElementById("pass").value.trim();
    let msg = document.getElementById("msg");

    if(id === "" || pw === ""){
        msg.innerText = "‚ö† ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö";
        return;
    }

    try {
        // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô cache
        let res = await fetch("employees.json?v=" + Date.now());
        let data = await res.json();

        let emp = data.find(e => e.id === id && e.password === pw);

        if(emp) {
            msg.style.color = "#00ff9d";
            msg.innerText = "‚úî ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
            setTimeout(() => {
                window.location.href = id + ".html";
            }, 500);
        } else {
            msg.style.color = "#ff8080";
            msg.innerText = "‚ùå ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
        }

    } catch (err) {
        msg.innerText = "üö´ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ (‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏ü‡∏•‡πå employees.json)";
    }
}
</script>

</body>
</html>
