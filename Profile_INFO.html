<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Buddy</title>

<style>
body { text-align:center; font-family:Arial; background:#000; color:white; margin-top:40px; }
img { width:220px; border-radius:18px; margin-bottom:20px; border:3px solid white; }
.info { font-size:19px; line-height:1.8; background:rgba(255,255,255,0.08); padding:20px; margin:20px auto; width:400px; border-radius:15px; }
button { padding:10px 20px; border-radius:10px; border:none; cursor:pointer; background:#2ecc71; font-size:16px; font-weight:bold; margin-top:20px; color:black;}
button:hover { background:#27ae60; color:white; }
</style>

</head>
<body>

<h2>üéâ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Buddy ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üéâ</h2>
<div id="profile"></div>

<button onclick="window.location.href='Login.html'">üîô ‡∏≠‡∏≠‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>

<script>
async function loadProfile(){
    let params = new URLSearchParams(window.location.search);
    let id = params.get("id");

    if(!id){
        document.getElementById("profile").innerHTML = "<p>‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>";
        return;
    }

    let res = await fetch("employees.json?v=" + Date.now());
    let data = await res.json();

    let emp = data.find(e => e.id === id);

    if(!emp){
        document.getElementById("profile").innerHTML = "<p>‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</p>";
        return;
    }

    document.getElementById("profile").innerHTML = `
        <img src="images/${emp.id}.png" alt="Profile"><br>
        <div class="info">
            <b>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</b> ${emp.name}<br>
            <b>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô:</b> ${emp.nickname}<br>
            <b>‡πÅ‡∏ú‡∏ô‡∏Å:</b> ${emp.department}<br>
            <b>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÅ‡∏û‡πâ / ‡∏Å‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:</b> ${emp.food_allergy}<br>
            <b>‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á:</b> ${emp.seat}
        </div>`;
}
loadProfile();
</script>

</body>
</html>
